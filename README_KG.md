# QR-код генератору

Бул жөнөкөй веб-тиркеме URL боюнча QR-коддорду түзүп, аларды A4 форматындагы PDF-файлдар түрүндө чыгарат. Тиркемеде кардардын жана сервер тараптуу текшерүү ишке ашырылган, бул туура URL даректери гана иштетилерин кепилдейт.

## Долбоордун карап чыгышы

Бул долбоор PHP негизинде түзүлгөн QR-код генератор тиркемеси болуп, колдонуучуларга URL боюнча QR-коддорду түзүүгө жана аларды PDF-файлдар катары жүктөп алууга мүмкүндүк берет. QR-коддорду түзүү үчүн Endroid QR Code китепканасы, ал эми PDF-документтерге QR-коддорду жана ыңгайлаштырылган шрифттерди киргизүү үчүн TCPDF колдонулат.

## Өзгөчөлүктөрү

* URL боюнча QR-коддорду түзүү
* Файлдарды жүктөө (PNG, JPG, JPEG, PDF, PPT, PPTX, DOC, DOCX) жана жалпы шилтемени алуу
* QR-кодго аталыш кошуу
* Натыйжаны A4 форматындагы PDF катары жүктөө
* Кардардын (client) жана сервердик текшерүү
* Адаптивдүү дизайн
* PDFке Times New Roman шрифтин киргизүү

## Талаптар

* PHP 8.3 же андан жогору
* PHP mbstring кеңейтмеси
* Composer
* Веб-сервер (Apache, Nginx ж.б.)
* `qrcodes` жана `uploads` папкаларына жазуу уруксаты

## Орнотуу

1. Бул репозиторийди веб-сервериңиздин каталогуна клондаңыз:

   ```bash
   git clone https://github.com/yourusername/qr-generator.git
   ```

2. Долбоордун папкасына өтүңүз:

   ```bash
   cd qr-generator
   ```

3. Composer аркылуу көз карандылыктарды орнотуңуз (шарт):

   ```bash
   composer install
   ```

   **Мааниилүү**: көз карандылыктар орнотулбаса, тиркеме иштебейт. Эгер `vendor/autoload.php` жок деген ката чыкса, ушул команданы иштетүүңүз керек.

4. `qrcodes` жана `uploads` папкалары веб-сервер үчүн жазууга ачык экенин текшериңиз:

   ```bash
   sudo mkdir qrcodes uploads
   sudo chown www-data:www-data qrcodes uploads
   sudo chmod 755 qrcodes uploads
   ```

5. `fonts` папкасы бар экенин жана керектүү шрифт файлдары киргизилгенин текшериңиз:

   ```bash
   ls -la fonts       # Папканын бар-жогун текшерүү
   sudo mkdir -p fonts  # Жок болсо түзүү
   ```

6. Веб-серверди тиркемени кызматка берүү үчүн настройка кылыңыз. Репозиторийде Nginx конфигурациясынын мисалы (`nginx.conf`) бар, шаблон катары колдонсо болот:

   ```bash
   sudo cp nginx.conf /etc/nginx/sites-available/qr-generator.conf
   sudo ln -s /etc/nginx/sites-available/qr-generator.conf /etc/nginx/sites-enabled/
   sudo nginx -t
   sudo nginx -s reload
   ```

## Колдонуу

### QR-код түзүү үчүн

1. Тиркемени браузерде ачыңыз.
2. «QR-код аты» талаасына аталышты киргизиңиз.
3. «Шилтеме» табына өтүңүз.
4. «QR-код шилтемеси» талаасына керектүү URLди киргизиңиз.
5. «QR-код түзүү» баскычын басып, PDFди түзүп жүктөө.
6. PDF A4 барагына борборлоштурулган QR-код менен автоматтык түрдө жүктөлөт.

### Файл жүктөө үчүн

1. Тиркемени браузерде ачыңыз.
2. «QR-код аты» талаасына аталышты киргизиңиз.
3. «Файл» табына өтүңүз.
4. Жүктөө аянтын басып, файлды тандаңыз (PNG, JPG, JPEG, PDF, PPT, PPTX, DOC, DOCX).
5. «QR-код түзүү» баскычын басып, файлды жүктөө.
6. Ийгиликтүү жүктөөдөн кийин файлга жалпы шилтемени аласыз.

## Тестирлөө

Долбоордо чөйрөнүн туура орнотулганын текшерүүчү `test.php` скрипти бар:

```bash
php test.php
```

Скрипт текшерет:

* PHP версиясынын шайкештигин
* Зарыл папкалардын бар-жогун
* Composer көз карандылыктарынын орнотулгандыгын
* QR-код түзүү функциясынын иштешин

Орнотуп бүткөндөн кийин аны иштетип, баары туура иштеп жатканын текшериңиз.

## Иштөө принциби

### QR-код түзүү

1. Колдонуучу формага аталышты жана URLди киргизет.
2. JavaScript кардардын тарабына URLдин форматын реалдуу убакытта текшерет.
3. Форма жиберилгенде JavaScript стандарттык жөнөтүүнү токтоп, аны жашырынган iframe аркылуу иштетет.
4. Серверд кайра текшерилет: милдеттүү талаалар жана URL форматы.
5. endroid/qr-code китепканасы аркылуу QR-код түзүлүп, убактылуу PNG-файлга сакталат.
6. TCPDF аркылуу QR-код PDF документке киргизилип, аталыш Times New Roman шрифти менен чыгарылат.
7. PDF колдонуучуга уникалдуу ат менен жүктөө үчүн жөнөтүлөт.
8. PDF түзүлгөндөн кийин убактылуу PNG-файлдар өчүрүлөт.

### Файл жүктөө

1. Колдонуучу аталышты киргизип, файлды тандайт.
2. Форма жиберилгенде файл серверге жөнөтүлөт.
3. Сервер файлынын форматты текшерет (PNG, JPG, JPEG, PDF, PPT, PPTX, DOC, DOCX).
4. Файл датасына жараша папка структурасына (жыл/ай/күн) сакталат.
5. Аталыштын, убакыт меткасынан жана оригиналдуу атынан уникалдуу ат түзүлөт.
6. Сервер жүктөлгөн файлга жалпы шилтемени кайтарат.
7. Шилтеме колдонуучуга көрсөтүлөт, аны көчүрүп пайдаланса болот.

## Лицензия

Долбоор MIT лицензиясы боюнча тарайт — кененирээк LICENSE файлында.

## Ыраазычылык

* [TCPDF](https://github.com/tecnickcom/TCPDF) — PDF түзүү жана шрифт киргизүү үчүн
* [endroid/qr-code](https://github.com/endroid/qr-code) — QR-код түзүү үчүн
